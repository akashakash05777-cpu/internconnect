(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{6132:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},11073:(e,s,t)=>{"use strict";t.d(s,{W:()=>n});var l=t(95155),a=t(11647),i=t(64269);let r={applied:{variant:"secondary",label:"Applied"},shortlisted:{variant:"default",label:"Shortlisted"},rejected:{variant:"destructive",label:"Rejected"},ongoing:{variant:"default",label:"Ongoing"},completed:{variant:"secondary",label:"Completed"},draft:{variant:"outline",label:"Draft"},pending_signatures:{variant:"secondary",label:"Pending Signatures"},active:{variant:"default",label:"Active"},expiring:{variant:"destructive",label:"Expiring"},terminated:{variant:"destructive",label:"Terminated"},active:{variant:"default",label:"Active"},inactive:{variant:"secondary",label:"Inactive"},closed:{variant:"destructive",label:"Closed"},approved:{variant:"default",label:"Approved"},pending:{variant:"secondary",label:"Pending"},cancelled:{variant:"destructive",label:"Cancelled"}};function n(e){let{status:s,variant:t,className:n}=e,d=r[s]||{variant:"secondary",label:s.charAt(0).toUpperCase()+s.slice(1).replace(/_/g," ")};return(0,l.jsx)(a.E,{variant:t||d.variant,className:(0,i.cn)(n),children:d.label})}},18085:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},26983:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},31120:(e,s,t)=>{"use strict";t.d(s,{T:()=>i});var l=t(95155);t(12115);var a=t(64269);function i(e){let{className:s,...t}=e;return(0,l.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}},35522:(e,s,t)=>{Promise.resolve().then(t.bind(t,53497))},42529:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},53497:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var l=t(95155),a=t(12115),i=t(5670),r=t(37567),n=t(86948),d=t(11647),c=t(3998),x=t(65142),u=t(76444),m=t(31120),h=t(11186),o=t(13406),j=t(51834),p=t(71847);let v=(0,p.A)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);var g=t(37586),f=t(6132),b=t(26983),y=t(42529);let N=(0,p.A)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);var w=t(6191),k=t(86651),A=t(57828),C=t(18085),S=t(27273),I=t(11073),M=t(64662);function P(){let[e]=(0,a.useState)(S.LH[0]),[s,t]=(0,a.useState)(S.Z9),[u,m]=(0,a.useState)(S.aS),[p,C]=(0,a.useState)(S.EW),[P,F]=(0,a.useState)(S.eY),[Z,q]=(0,a.useState)(""),[L,R]=(0,a.useState)("all"),[W,T]=(0,a.useState)("all"),[z,V]=(0,a.useState)(!1),[_,$]=(0,a.useState)(""),B=p.filter(s=>s.company===e.companyName),G=u.filter(e=>B.some(s=>s.id===e.internshipId)).map(e=>{let t=s.find(s=>s.id===e.studentId),l=B.find(s=>s.id===e.internshipId),a=P.filter(s=>s.studentId===e.studentId);return{...e,student:t,internship:l,feedback:a}}).filter(e=>e.student),J=P.filter(e=>{var s;let t=G.find(s=>s.studentId===e.studentId),l=(null==t||null==(s=t.student)?void 0:s.name.toLowerCase().includes(Z.toLowerCase()))||e.title.toLowerCase().includes(Z.toLowerCase())||e.message.toLowerCase().includes(Z.toLowerCase()),a="all"===L||e.type===L,i="all"===W||e.priority===W;return l&&a&&i}),D=J.length,H=P.filter(e=>"active"===e.status).length,O=P.filter(e=>"resolved"===e.status).length,U=P.filter(e=>"high"===e.priority).length,X=e=>{F(s=>s.map(s=>s.id===e?{...s,status:"resolved"}:s))},Y=e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},K=e=>{switch(e){case"praise":return(0,l.jsx)(v,{className:"h-4 w-4 text-green-600"});case"suggestion":return(0,l.jsx)(g.A,{className:"h-4 w-4 text-blue-600"});case"concern":return(0,l.jsx)(f.A,{className:"h-4 w-4 text-red-600"});case"general":return(0,l.jsx)(g.A,{className:"h-4 w-4 text-gray-600"});default:return(0,l.jsx)(g.A,{className:"h-4 w-4"})}},Q=e=>{switch(e){case"active":return(0,l.jsx)(b.A,{className:"h-4 w-4 text-yellow-600"});case"resolved":return(0,l.jsx)(y.A,{className:"h-4 w-4 text-green-600"});case"archived":return(0,l.jsx)(N,{className:"h-4 w-4 text-gray-600"});default:return(0,l.jsx)(b.A,{className:"h-4 w-4"})}};return(0,l.jsx)(r.O,{allowedRoles:["industry"],children:(0,l.jsx)(i.N,{userRole:"industry",userName:e.name,userEmail:e.email,notificationCount:4,children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Feedback Management"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Send feedback to students and track communication history."})]}),(0,l.jsxs)(j.lG,{open:z,onOpenChange:V,children:[(0,l.jsx)(j.zM,{asChild:!0,children:(0,l.jsxs)(c.$,{children:[(0,l.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"New Feedback"]})}),(0,l.jsxs)(j.Cf,{className:"max-w-2xl",children:[(0,l.jsxs)(j.c7,{children:[(0,l.jsx)(j.L3,{children:"Send Feedback"}),(0,l.jsx)(j.rr,{children:"Provide feedback to a student about their performance or behavior."})]}),(0,l.jsx)(E,{students:G,selectedStudent:_,onSubmit:e=>{console.log("Submitting feedback:",e),V(!1)}})]})]})]}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,l.jsxs)(n.Zp,{children:[(0,l.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Feedback"}),(0,l.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(n.Wu,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:D}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"All time feedback"})]})]}),(0,l.jsxs)(n.Zp,{children:[(0,l.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(n.ZB,{className:"text-sm font-medium",children:"Active"}),(0,l.jsx)(b.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(n.Wu,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:H}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pending resolution"})]})]}),(0,l.jsxs)(n.Zp,{children:[(0,l.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(n.ZB,{className:"text-sm font-medium",children:"Resolved"}),(0,l.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(n.Wu,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:O}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Successfully resolved"})]})]}),(0,l.jsxs)(n.Zp,{children:[(0,l.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(n.ZB,{className:"text-sm font-medium",children:"High Priority"}),(0,l.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(n.Wu,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:U}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]})]}),(0,l.jsx)(n.Zp,{children:(0,l.jsx)(n.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(k.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,l.jsx)(x.p,{placeholder:"Search feedback by student name, title, or message...",value:Z,onChange:e=>q(e.target.value),className:"pl-10"})]}),(0,l.jsxs)(h.l6,{value:L,onValueChange:R,children:[(0,l.jsx)(h.bq,{className:"w-48",children:(0,l.jsx)(h.yv,{placeholder:"Feedback Type"})}),(0,l.jsxs)(h.gC,{children:[(0,l.jsx)(h.eb,{value:"all",children:"All Types"}),(0,l.jsx)(h.eb,{value:"praise",children:"Praise"}),(0,l.jsx)(h.eb,{value:"suggestion",children:"Suggestion"}),(0,l.jsx)(h.eb,{value:"concern",children:"Concern"}),(0,l.jsx)(h.eb,{value:"general",children:"General"})]})]}),(0,l.jsxs)(h.l6,{value:W,onValueChange:T,children:[(0,l.jsx)(h.bq,{className:"w-48",children:(0,l.jsx)(h.yv,{placeholder:"Priority"})}),(0,l.jsxs)(h.gC,{children:[(0,l.jsx)(h.eb,{value:"all",children:"All Priorities"}),(0,l.jsx)(h.eb,{value:"high",children:"High"}),(0,l.jsx)(h.eb,{value:"medium",children:"Medium"}),(0,l.jsx)(h.eb,{value:"low",children:"Low"})]})]})]})})}),(0,l.jsxs)(o.tU,{defaultValue:"all",className:"space-y-4",children:[(0,l.jsxs)(o.j7,{children:[(0,l.jsx)(o.Xi,{value:"all",children:"All Feedback"}),(0,l.jsx)(o.Xi,{value:"active",children:"Active"}),(0,l.jsx)(o.Xi,{value:"students",children:"By Student"})]}),(0,l.jsx)(o.av,{value:"all",className:"space-y-4",children:J.map(e=>{let s=G.find(s=>s.studentId===e.studentId);return(null==s?void 0:s.student)&&(null==s?void 0:s.internship)?(0,l.jsx)(n.Zp,{children:(0,l.jsx)(n.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[K(e.type),(0,l.jsx)("h3",{className:"font-semibold",children:e.title})]}),(0,l.jsx)(d.E,{className:Y(e.priority),children:e.priority}),(0,l.jsxs)(d.E,{variant:"outline",className:"flex items-center gap-1",children:[Q(e.status),e.status]}),e.isPublic&&(0,l.jsx)(d.E,{variant:"secondary",children:"Public"})]}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["To: ",s.student.name," • ",s.internship.title]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:(0,M.GP)(e.createdAt,"MMM dd, yyyy • h:mm a")}),(0,l.jsx)("div",{className:"bg-muted/50 p-3 rounded-lg",children:(0,l.jsx)("p",{className:"text-sm",children:e.message})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(A.A,{className:"h-4 w-4 mr-1"}),"View"]}),"active"===e.status&&(0,l.jsxs)(c.$,{size:"sm",onClick:()=>X(e.id),children:[(0,l.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"Resolve"]})]})]})})},e.id):null})}),(0,l.jsx)(o.av,{value:"active",className:"space-y-4",children:J.filter(e=>"active"===e.status).map(e=>{let s=G.find(s=>s.studentId===e.studentId);return(null==s?void 0:s.student)&&(null==s?void 0:s.internship)?(0,l.jsx)(n.Zp,{children:(0,l.jsx)(n.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[K(e.type),(0,l.jsx)("h3",{className:"font-semibold",children:e.title})]}),(0,l.jsx)(d.E,{className:Y(e.priority),children:e.priority})]}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["To: ",s.student.name," • ",s.internship.title]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:(0,M.GP)(e.createdAt,"MMM dd, yyyy • h:mm a")}),(0,l.jsx)("div",{className:"bg-muted/50 p-3 rounded-lg",children:(0,l.jsx)("p",{className:"text-sm",children:e.message})})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)(c.$,{size:"sm",onClick:()=>X(e.id),children:[(0,l.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"Resolve"]})})]})})},e.id):null})}),(0,l.jsx)(o.av,{value:"students",className:"space-y-4",children:G.map(e=>{if(!e.student||!e.internship)return null;let s=e.feedback;return(0,l.jsx)(n.Zp,{children:(0,l.jsx)(n.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("h3",{className:"font-semibold",children:e.student.name}),(0,l.jsx)(I.W,{status:e.status}),(0,l.jsxs)(d.E,{variant:"outline",children:[s.length," feedback"]})]}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mb-3",children:[e.internship.title," • ",e.student.studentId]}),s.length>0?(0,l.jsxs)("div",{className:"space-y-3",children:[s.slice(0,3).map(e=>(0,l.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[K(e.type),(0,l.jsx)("span",{className:"font-medium text-sm",children:e.title})]}),(0,l.jsx)(d.E,{className:Y(e.priority),children:e.priority}),(0,l.jsxs)(d.E,{variant:"outline",className:"flex items-center gap-1",children:[Q(e.status),e.status]})]}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:(0,M.GP)(e.createdAt,"MMM dd, yyyy")}),(0,l.jsx)("p",{className:"text-sm",children:e.message})]},e.id)),s.length>3&&(0,l.jsxs)("p",{className:"text-sm text-muted-foreground text-center",children:["+",s.length-3," more feedback items"]})]}):(0,l.jsxs)("div",{className:"text-center py-4",children:[(0,l.jsx)(g.A,{className:"mx-auto h-8 w-8 text-muted-foreground mb-2"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"No feedback yet"})]})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)(c.$,{size:"sm",onClick:()=>{$(e.studentId),V(!0)},children:[(0,l.jsx)(w.A,{className:"h-4 w-4 mr-1"}),"Send Feedback"]})})]})})},e.id)})})]})]})})})}function E(e){let{students:s,selectedStudent:t,onSubmit:i}=e,[r,n]=(0,a.useState)({studentId:t,type:"general",title:"",message:"",isPublic:!0,priority:"medium"});return(0,l.jsxs)("form",{onSubmit:e=>{var t;e.preventDefault(),i({...r,fromUserId:"5",toUserId:r.studentId,applicationId:(null==(t=s.find(e=>e.studentId===r.studentId))?void 0:t.id)||"",status:"active",createdAt:new Date,updatedAt:new Date})},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(u.J,{htmlFor:"student",children:"Student"}),(0,l.jsxs)(h.l6,{value:r.studentId,onValueChange:e=>n(s=>({...s,studentId:e})),children:[(0,l.jsx)(h.bq,{children:(0,l.jsx)(h.yv,{placeholder:"Select student"})}),(0,l.jsx)(h.gC,{children:s.map(e=>{var s,t;return(0,l.jsxs)(h.eb,{value:e.studentId,children:[null==(s=e.student)?void 0:s.name," - ",null==(t=e.internship)?void 0:t.title]},e.studentId)})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(u.J,{htmlFor:"type",children:"Type"}),(0,l.jsxs)(h.l6,{value:r.type,onValueChange:e=>n(s=>({...s,type:e})),children:[(0,l.jsx)(h.bq,{children:(0,l.jsx)(h.yv,{placeholder:"Select type"})}),(0,l.jsxs)(h.gC,{children:[(0,l.jsx)(h.eb,{value:"praise",children:"Praise"}),(0,l.jsx)(h.eb,{value:"suggestion",children:"Suggestion"}),(0,l.jsx)(h.eb,{value:"concern",children:"Concern"}),(0,l.jsx)(h.eb,{value:"general",children:"General"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u.J,{htmlFor:"priority",children:"Priority"}),(0,l.jsxs)(h.l6,{value:r.priority,onValueChange:e=>n(s=>({...s,priority:e})),children:[(0,l.jsx)(h.bq,{children:(0,l.jsx)(h.yv,{placeholder:"Select priority"})}),(0,l.jsxs)(h.gC,{children:[(0,l.jsx)(h.eb,{value:"low",children:"Low"}),(0,l.jsx)(h.eb,{value:"medium",children:"Medium"}),(0,l.jsx)(h.eb,{value:"high",children:"High"})]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u.J,{htmlFor:"title",children:"Title"}),(0,l.jsx)(x.p,{id:"title",value:r.title,onChange:e=>n(s=>({...s,title:e.target.value})),placeholder:"Brief title for the feedback",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u.J,{htmlFor:"message",children:"Message"}),(0,l.jsx)(m.T,{id:"message",value:r.message,onChange:e=>n(s=>({...s,message:e.target.value})),placeholder:"Detailed feedback message...",rows:4,required:!0})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"public",checked:r.isPublic,onChange:e=>n(s=>({...s,isPublic:e.target.checked}))}),(0,l.jsx)(u.J,{htmlFor:"public",children:"Make this feedback public"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,l.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>i({}),children:"Cancel"}),(0,l.jsxs)(c.$,{type:"submit",children:[(0,l.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Send Feedback"]})]})]})}},57828:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{e.O(0,[91,547,662,203,380,113,516,441,255,358],()=>e(e.s=35522)),_N_E=e.O()}]);